import React from "react";
import './navbar.css';
import { Link, useNavigate } from 'react-router-dom';
function Navbar() {
    const navigate = useNavigate();

    const isAuthenticated = () => {
        const token = localStorage.getItem('token'); // Replace with your token logic
        return !!token; // Returns true if token exists
    };
    const handleLogout = () => {
        localStorage.removeItem('token'); // Clear the token
        navigate('/login'); // Redirect to login after logout
      };
    return (
        <div className="">
            <nav className="navbar navbar-expand-lg py-3" >
                <div className="container">
                    <a className="navbar-brand" href="#">
                        <svg width="137" height="26" viewBox="0 0 137 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.5315 13.134L14.1406 22.3669L8.74969 13.134H19.5315ZM20.9757 12.3088H7.29965L14.1406 24L20.9757 12.3088Z" fill="#263238" />
                            <path d="M28.9043 1.65038L34.2952 10.8833H23.5133L28.9043 1.65038ZM28.9043 0L22.0633 11.6912H35.7452L28.9043 0Z" fill="#263238" />
                            <path d="M0.745209 0L6.48111 10.3409L12.7491 0.259661L0.745209 0Z" fill="#4CAF4F" />
                            <path d="M14.1407 0.905884L20.1573 11.189H8.11249L14.1407 0.905884Z" fill="#4CAF4F" />
                            <path d="M21.7067 13.4341L27.7291 24H15.3978L21.5196 13.4341H21.7067Z" fill="#4CAF4F" />
                            <path d="M23.0105 12.7935L28.9043 23.1978L34.8799 12.7935H23.0105Z" fill="#4CAF4F" />
                            <path d="M46.6562 5.35156H49.9375C50.974 5.35156 51.7578 5.43229 52.2891 5.59375C52.8255 5.75521 53.2578 6.08333 53.5859 6.57812C53.9141 7.06771 54.0781 7.85938 54.0781 8.95312C54.0781 9.69271 53.9609 10.2083 53.7266 10.5C53.4974 10.7917 53.0417 11.0156 52.3594 11.1719C53.1198 11.3438 53.6354 11.6302 53.9062 12.0312C54.1771 12.4271 54.3125 13.0365 54.3125 13.8594V15.0312C54.3125 15.8854 54.2135 16.5182 54.0156 16.9297C53.8229 17.3411 53.513 17.6224 53.0859 17.7734C52.6589 17.9245 51.7839 18 50.4609 18H46.6562V5.35156ZM49.9453 7.51562V10.3281C50.0859 10.3229 50.1953 10.3203 50.2734 10.3203C50.5964 10.3203 50.8021 10.2422 50.8906 10.0859C50.9792 9.92448 51.0234 9.46875 51.0234 8.71875C51.0234 8.32292 50.987 8.04688 50.9141 7.89062C50.8411 7.72917 50.7448 7.6276 50.625 7.58594C50.5104 7.54427 50.2839 7.52083 49.9453 7.51562ZM49.9453 12.2969V15.8359C50.4089 15.8203 50.7031 15.7474 50.8281 15.6172C50.9583 15.487 51.0234 15.1667 51.0234 14.6562V13.4766C51.0234 12.9349 50.9661 12.6068 50.8516 12.4922C50.737 12.3776 50.4349 12.3125 49.9453 12.2969ZM64.0025 7.63281L63.8775 8.99219C64.3358 8.01823 64.9999 7.5026 65.8697 7.44531V11.0938C65.2916 11.0938 64.8671 11.1719 64.5963 11.3281C64.3254 11.4844 64.1588 11.7031 64.0963 11.9844C64.0338 12.2604 64.0025 12.901 64.0025 13.9062V18H60.8463V7.63281H64.0025ZM79.1613 11.2734V13.8125C79.1613 14.7448 79.1144 15.4297 79.0206 15.8672C78.9269 16.2995 78.7264 16.7057 78.4191 17.0859C78.1118 17.4609 77.7159 17.7396 77.2316 17.9219C76.7524 18.099 76.2003 18.1875 75.5753 18.1875C74.8774 18.1875 74.2863 18.112 73.8019 17.9609C73.3175 17.8047 72.9399 17.5729 72.6691 17.2656C72.4034 16.9531 72.2133 16.5781 72.0988 16.1406C71.9842 15.6979 71.9269 15.0365 71.9269 14.1562V11.5C71.9269 10.5365 72.031 9.78385 72.2394 9.24219C72.4477 8.70052 72.8227 8.26562 73.3644 7.9375C73.906 7.60938 74.5988 7.44531 75.4425 7.44531C76.1508 7.44531 76.7576 7.55208 77.2628 7.76562C77.7732 7.97396 78.1665 8.2474 78.4425 8.58594C78.7185 8.92448 78.906 9.27344 79.005 9.63281C79.1092 9.99219 79.1613 10.5391 79.1613 11.2734ZM76.005 10.4922C76.005 9.96094 75.9764 9.6276 75.9191 9.49219C75.8618 9.35156 75.7394 9.28125 75.5519 9.28125C75.3644 9.28125 75.2394 9.35156 75.1769 9.49219C75.1144 9.6276 75.0831 9.96094 75.0831 10.4922V15.1719C75.0831 15.6615 75.1144 15.9818 75.1769 16.1328C75.2394 16.2786 75.3618 16.3516 75.5441 16.3516C75.7316 16.3516 75.854 16.2839 75.9113 16.1484C75.9738 16.013 76.005 15.7214 76.005 15.2734V10.4922ZM90.5622 7.63281V9.92969L88.2341 15.9219H90.5622V18H85.1794V15.8281L87.5622 9.71094H85.4216V7.63281H90.5622ZM99.5334 11.6484H96.5725V10.9531C96.5725 10.151 96.6636 9.53385 96.8459 9.10156C97.0334 8.66406 97.4058 8.27865 97.9631 7.94531C98.5204 7.61198 99.2444 7.44531 100.135 7.44531C101.203 7.44531 102.007 7.63542 102.549 8.01562C103.091 8.39062 103.416 8.85417 103.526 9.40625C103.635 9.95312 103.69 11.0833 103.69 12.7969V18H100.619V17.0781C100.427 17.4479 100.177 17.7266 99.8694 17.9141C99.5673 18.0964 99.2053 18.1875 98.7834 18.1875C98.2314 18.1875 97.7235 18.0339 97.26 17.7266C96.8017 17.4141 96.5725 16.7344 96.5725 15.6875V14.8359C96.5725 14.0599 96.6949 13.5312 96.9397 13.25C97.1845 12.9688 97.7913 12.6406 98.76 12.2656C99.7965 11.8594 100.351 11.5859 100.424 11.4453C100.497 11.3047 100.533 11.0182 100.533 10.5859C100.533 10.0443 100.492 9.69271 100.408 9.53125C100.33 9.36458 100.198 9.28125 100.01 9.28125C99.7965 9.28125 99.6636 9.35156 99.6116 9.49219C99.5595 9.6276 99.5334 9.98438 99.5334 10.5625V11.6484ZM100.533 13.0703C100.028 13.4401 99.734 13.75 99.6506 14C99.5725 14.25 99.5334 14.6094 99.5334 15.0781C99.5334 15.6146 99.5673 15.9609 99.635 16.1172C99.7079 16.2734 99.8485 16.3516 100.057 16.3516C100.255 16.3516 100.382 16.2917 100.44 16.1719C100.502 16.0469 100.533 15.724 100.533 15.2031V13.0703ZM113.372 7.63281L113.247 8.99219C113.705 8.01823 114.369 7.5026 115.239 7.44531V11.0938C114.661 11.0938 114.236 11.1719 113.966 11.3281C113.695 11.4844 113.528 11.7031 113.466 11.9844C113.403 12.2604 113.372 12.901 113.372 13.9062V18H110.216V7.63281H113.372Z" fill="black" />
                        </svg>
                    </a>
                    <button
                        className="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span className="navbar-toggler-icon" />
                    </button>
                    <div className="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul className="navbar-nav m-auto mb-2 mb-lg-0">
                            <li className="nav-item">

                                <Link className="nav-link" to='/'>Home</Link>
                            </li>
                            <li className="nav-item">

                                <Link className="nav-link">About</Link>
                            </li>
                            <li className="nav-item">

                                <Link className="nav-link" to='/allprojects'>Projects</Link>
                            </li>
                            <li className="nav-item">

                                <Link className="nav-link" to='/allevents'>Events</Link>
                            </li>
                            <li className="nav-item">

                                <Link className="nav-link">Contact</Link>
                            </li>
                            <li className="nav-item">

                                <Link className="nav-link">FAQ</Link>
                            </li>

                        </ul>
                        <ul className="navbar-nav ms-auto mb-2 mb-lg-0">
                            {isAuthenticated() ? (
                                <>
                                    <div className="dropdown">
                                        <button className="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <img src="../../../../public/icon/profile.svg" alt="" />
                                        </button>
                                        <ul className="dropdown-menu">
                                        <li className="">
                                        <Link className="btn dropdown-item" to="/profile">Profile</Link>
                                    </li>
                                    <li className="">
                                        <button className="btn btn-danger dropdown-item" onClick={handleLogout}>Logout</button>
                                    </li>
                                        </ul>
                                    </div>

                                    
                                </>
                            ) : (
                                <>
                                    <li className="nav-item">
                                        <Link className="loginBtn btn" to="/login">Login</Link>
                                    </li>
                                    <li className="nav-item">
                                        <Link className="registerBtn btn" to="/register">Register</Link>
                                    </li>
                                </>
                            )}
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    );
}

export default Navbar;
